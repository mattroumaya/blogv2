{
  "hash": "b472c7d20c447b13005b332365cb5496",
  "result": {
    "markdown": "---\ntitle: \"Tidying The Survey Monkey Doubleheader\"\nauthor: \"Matt Roumaya\"\ndate: \"2020-05-02\"\ncategories: [R, survey, SurveyMonkey]\nimage: \"image.png\"\n---\n\n\n![](sm.png){fig-align=\"center\" width=46%}\n\nSurveyMonkey üêí is a popular online survey development software that outputs a very frustrating kind of response file.  If you've ever received exported results from SurveyMonkey, you probably know what I'm talking about. \n\nWhen response data is exported as a *.csv* or *.xlsx* file, it looks something like this: \n\n![The Doubleheader](doubleheader.png)\n\nYou can see that the response data for the question *\"Please provide your contact information:\"* contains several inputs for Name, Company, Address, etc. Deleting the first row might seem to make sense at first, but when your survey contains dozens of questions with multiple question types, things can get out of hand really fast.\n\nThis post is an overview of one approach for cleaning up SurveyMonkey columns. I struggled with this for a while, but now have a workflow that seems pretty efficient, especially if your goal is to set up `RMarkdown` reports while your survey is being administered. If it is helpful for you, that's awesome! If you have a better way of approaching this issue, please let me know! \n\n\n# The workflow\n1. A function that creates column names that are concatenated from the question + response in_snake_case (or camelCase, or whatever) using the aptly-named `janitor` package.  \n2. Cleaning up any annoying/extremely_long_column_names_from_very_long_questions.  \n3. If needed, subsetting columns into dataframes or lists for analyses/visualization. (The `dplyr` functions `starts_with` and `ends_with` work really well with this workflow).  \n4. That's it, now you're ready to do some meaningful analyses!  \n\n**Let's start by viewing our response data. You'll need to use the packages `tidyverse`, `janitor`, and `readxl` if you're using *.xlsx*.** \n\n(I always save the original version without any changes so I can build in QC checks, and tend to use `_preserve` as an identifier.) You'll see that some columns are missing values, and will be read in with **\"...#\"**\n\n\n\n\n\n**Edit in 10/2022: I've added sample data to avoid loading `.csv`/`.xlsx` files. You can grab it by running:\n\n::: {.cell}\n\n```{.r .cell-code}\n# devtools::install_github('mattroumaya/doubleheadr')\nlibrary(doubleheadr)\nsurvey_data <- doubleheadr::demo\nsurvey_data_preserve <- doubleheadr::demo\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsurvey_data %>% \n  head(4) %>% \n  gt::gt()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"smgaretruk\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#smgaretruk .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#smgaretruk .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#smgaretruk .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#smgaretruk .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#smgaretruk .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#smgaretruk .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#smgaretruk .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#smgaretruk .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#smgaretruk .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#smgaretruk .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#smgaretruk .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#smgaretruk .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#smgaretruk .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#smgaretruk .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#smgaretruk .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#smgaretruk .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#smgaretruk .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#smgaretruk .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#smgaretruk .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#smgaretruk .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#smgaretruk .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#smgaretruk .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#smgaretruk .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#smgaretruk .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#smgaretruk .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#smgaretruk .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#smgaretruk .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#smgaretruk .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#smgaretruk .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#smgaretruk .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#smgaretruk .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#smgaretruk .gt_left {\n  text-align: left;\n}\n\n#smgaretruk .gt_center {\n  text-align: center;\n}\n\n#smgaretruk .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#smgaretruk .gt_font_normal {\n  font-weight: normal;\n}\n\n#smgaretruk .gt_font_bold {\n  font-weight: bold;\n}\n\n#smgaretruk .gt_font_italic {\n  font-style: italic;\n}\n\n#smgaretruk .gt_super {\n  font-size: 65%;\n}\n\n#smgaretruk .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#smgaretruk .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#smgaretruk .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#smgaretruk .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#smgaretruk .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#smgaretruk .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#smgaretruk .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">Respondent ID</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">Please provide your contact information:</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">...3</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">...4</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">...5</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">...6</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">...7</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">...8</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">...9</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">...10</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">...11</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">I wish it would have snowed more this winter.</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_right\">NA</td>\n<td class=\"gt_row gt_left\">Name</td>\n<td class=\"gt_row gt_left\">Company</td>\n<td class=\"gt_row gt_left\">Address</td>\n<td class=\"gt_row gt_left\">Address 2</td>\n<td class=\"gt_row gt_left\">City/Town</td>\n<td class=\"gt_row gt_left\">State/Province</td>\n<td class=\"gt_row gt_left\">ZIP/Postal Code</td>\n<td class=\"gt_row gt_left\">Country</td>\n<td class=\"gt_row gt_left\">Email Address</td>\n<td class=\"gt_row gt_left\">Phone Number</td>\n<td class=\"gt_row gt_left\">Response</td></tr>\n    <tr><td class=\"gt_row gt_right\">11385284375</td>\n<td class=\"gt_row gt_left\">Benjamin Franklin</td>\n<td class=\"gt_row gt_left\">Poor Richard's</td>\n<td class=\"gt_row gt_left\">NA</td>\n<td class=\"gt_row gt_left\">NA</td>\n<td class=\"gt_row gt_left\">Philadelphia</td>\n<td class=\"gt_row gt_left\">PA</td>\n<td class=\"gt_row gt_left\">19104</td>\n<td class=\"gt_row gt_left\">NA</td>\n<td class=\"gt_row gt_left\">benjamins@gmail.com</td>\n<td class=\"gt_row gt_left\">215-555-4444</td>\n<td class=\"gt_row gt_left\">Strongly disagree</td></tr>\n    <tr><td class=\"gt_row gt_right\">11385273621</td>\n<td class=\"gt_row gt_left\">Mae Jemison</td>\n<td class=\"gt_row gt_left\">NASA</td>\n<td class=\"gt_row gt_left\">NA</td>\n<td class=\"gt_row gt_left\">NA</td>\n<td class=\"gt_row gt_left\">Decatur</td>\n<td class=\"gt_row gt_left\">Alabama</td>\n<td class=\"gt_row gt_left\">20104</td>\n<td class=\"gt_row gt_left\">NA</td>\n<td class=\"gt_row gt_left\">mjemison@nasa.gov</td>\n<td class=\"gt_row gt_left\">221-134-4646</td>\n<td class=\"gt_row gt_left\">Strongly agree</td></tr>\n    <tr><td class=\"gt_row gt_right\">11385258069</td>\n<td class=\"gt_row gt_left\">Carl Sagan</td>\n<td class=\"gt_row gt_left\">Smithsonian</td>\n<td class=\"gt_row gt_left\">NA</td>\n<td class=\"gt_row gt_left\">NA</td>\n<td class=\"gt_row gt_left\">Washington</td>\n<td class=\"gt_row gt_left\">D.C.</td>\n<td class=\"gt_row gt_left\">33321</td>\n<td class=\"gt_row gt_left\">NA</td>\n<td class=\"gt_row gt_left\">stargazer@gmail.com</td>\n<td class=\"gt_row gt_left\">999-999-4422</td>\n<td class=\"gt_row gt_left\">Neither agree nor disagree</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\n# Ugh! Look at those terrible column names. üò†\n\n![Oof!!!](IMG-2932.JPG){fig-width=\"20%\"}\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndouble_header <- function(x) {\n  \n  df <- as_tibble(x)\n  \n  keydat <- df %>%\n    slice(1) %>%\n    select_if(negate(is.na)) %>%\n    pivot_longer(everything()) %>%\n    group_by(grp = cumsum(!startsWith(name, \"...\"))) %>%\n    mutate(value = sprintf(\"%s (%s)\", first(name), value)) %>%\n    ungroup %>%\n    select(-grp)\n  \n  df <- df %>%\n    rename_at(vars(keydat$name), ~ keydat$value) %>%\n    slice(-1) %>%\n    clean_names()\n}\n```\n:::\n\n\n# The double header breakdown \n1. `slice(1)` selects the first row, which contains the other names we need.    \n2. `select_if(negate(is.na))` selects all columns where the first row is not `NA`, because we don't need to alter these column names.    \n3. `pivot_longer(everything())` transforms our dataframe from wide to long, and automatically creates the columns `name` and `value`.  \n  * (`name` holds all of our column names and `value` holds all of our secondary column names.)  \n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 √ó 2\n  name                                     value         \n  <chr>                                    <chr>         \n1 Please provide your contact information: Name          \n2 ...3                                     Company       \n3 ...4                                     Address       \n4 ...5                                     Address 2     \n5 ...6                                     City/Town     \n6 ...7                                     State/Province\n```\n:::\n:::\n\n\n4. `group_by(grp = cumsum(!startsWith(name, \"...\")))` groups rows and then applies a cumulative sum for all rows in the `name` column that do not start with **\"...\"** until a row other than **\"...\"** is encountered. This is better shown in the table below:  \n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div id=\"vcmnnueqeo\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#vcmnnueqeo .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#vcmnnueqeo .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#vcmnnueqeo .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#vcmnnueqeo .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#vcmnnueqeo .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vcmnnueqeo .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#vcmnnueqeo .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#vcmnnueqeo .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#vcmnnueqeo .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#vcmnnueqeo .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#vcmnnueqeo .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#vcmnnueqeo .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#vcmnnueqeo .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#vcmnnueqeo .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#vcmnnueqeo .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#vcmnnueqeo .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#vcmnnueqeo .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vcmnnueqeo .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#vcmnnueqeo .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#vcmnnueqeo .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vcmnnueqeo .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#vcmnnueqeo .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#vcmnnueqeo .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vcmnnueqeo .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vcmnnueqeo .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#vcmnnueqeo .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#vcmnnueqeo .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vcmnnueqeo .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#vcmnnueqeo .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vcmnnueqeo .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#vcmnnueqeo .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vcmnnueqeo .gt_left {\n  text-align: left;\n}\n\n#vcmnnueqeo .gt_center {\n  text-align: center;\n}\n\n#vcmnnueqeo .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#vcmnnueqeo .gt_font_normal {\n  font-weight: normal;\n}\n\n#vcmnnueqeo .gt_font_bold {\n  font-weight: bold;\n}\n\n#vcmnnueqeo .gt_font_italic {\n  font-style: italic;\n}\n\n#vcmnnueqeo .gt_super {\n  font-size: 65%;\n}\n\n#vcmnnueqeo .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#vcmnnueqeo .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#vcmnnueqeo .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#vcmnnueqeo .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#vcmnnueqeo .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#vcmnnueqeo .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#vcmnnueqeo .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">name</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">value</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr class=\"gt_group_heading_row\">\n      <td colspan=\"2\" class=\"gt_group_heading\">1</td>\n    </tr>\n    <tr class=\"gt_row_group_first\"><td class=\"gt_row gt_left\">Please provide your contact information:</td>\n<td class=\"gt_row gt_left\">Name</td></tr>\n    <tr><td class=\"gt_row gt_left\">...3</td>\n<td class=\"gt_row gt_left\">Company</td></tr>\n    <tr><td class=\"gt_row gt_left\">...4</td>\n<td class=\"gt_row gt_left\">Address</td></tr>\n    <tr><td class=\"gt_row gt_left\">...5</td>\n<td class=\"gt_row gt_left\">Address 2</td></tr>\n    <tr><td class=\"gt_row gt_left\">...6</td>\n<td class=\"gt_row gt_left\">City/Town</td></tr>\n    <tr><td class=\"gt_row gt_left\">...7</td>\n<td class=\"gt_row gt_left\">State/Province</td></tr>\n    <tr><td class=\"gt_row gt_left\">...8</td>\n<td class=\"gt_row gt_left\">ZIP/Postal Code</td></tr>\n    <tr><td class=\"gt_row gt_left\">...9</td>\n<td class=\"gt_row gt_left\">Country</td></tr>\n    <tr><td class=\"gt_row gt_left\">...10</td>\n<td class=\"gt_row gt_left\">Email Address</td></tr>\n    <tr><td class=\"gt_row gt_left\">...11</td>\n<td class=\"gt_row gt_left\">Phone Number</td></tr>\n    <tr class=\"gt_group_heading_row\">\n      <td colspan=\"2\" class=\"gt_group_heading\">2</td>\n    </tr>\n    <tr class=\"gt_row_group_first\"><td class=\"gt_row gt_left\">I wish it would have snowed more this winter.</td>\n<td class=\"gt_row gt_left\">Response</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\n5. `mutate(value = sprintf(\"%s (%s)\", first(name), value))` updates our `value` column and concatenates our names so that they're meaningful. We're almost there!\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div id=\"ghtjqxcdwi\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#ghtjqxcdwi .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#ghtjqxcdwi .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ghtjqxcdwi .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#ghtjqxcdwi .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#ghtjqxcdwi .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ghtjqxcdwi .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ghtjqxcdwi .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#ghtjqxcdwi .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#ghtjqxcdwi .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#ghtjqxcdwi .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#ghtjqxcdwi .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#ghtjqxcdwi .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#ghtjqxcdwi .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#ghtjqxcdwi .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#ghtjqxcdwi .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#ghtjqxcdwi .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#ghtjqxcdwi .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ghtjqxcdwi .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#ghtjqxcdwi .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#ghtjqxcdwi .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ghtjqxcdwi .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#ghtjqxcdwi .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#ghtjqxcdwi .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ghtjqxcdwi .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ghtjqxcdwi .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#ghtjqxcdwi .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#ghtjqxcdwi .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ghtjqxcdwi .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ghtjqxcdwi .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ghtjqxcdwi .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ghtjqxcdwi .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ghtjqxcdwi .gt_left {\n  text-align: left;\n}\n\n#ghtjqxcdwi .gt_center {\n  text-align: center;\n}\n\n#ghtjqxcdwi .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#ghtjqxcdwi .gt_font_normal {\n  font-weight: normal;\n}\n\n#ghtjqxcdwi .gt_font_bold {\n  font-weight: bold;\n}\n\n#ghtjqxcdwi .gt_font_italic {\n  font-style: italic;\n}\n\n#ghtjqxcdwi .gt_super {\n  font-size: 65%;\n}\n\n#ghtjqxcdwi .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#ghtjqxcdwi .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#ghtjqxcdwi .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#ghtjqxcdwi .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#ghtjqxcdwi .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#ghtjqxcdwi .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#ghtjqxcdwi .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">name</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">value</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr class=\"gt_group_heading_row\">\n      <td colspan=\"2\" class=\"gt_group_heading\">1</td>\n    </tr>\n    <tr class=\"gt_row_group_first\"><td class=\"gt_row gt_left\">Please provide your contact information:</td>\n<td class=\"gt_row gt_left\">Please provide your contact information: (Name)</td></tr>\n    <tr><td class=\"gt_row gt_left\">...3</td>\n<td class=\"gt_row gt_left\">Please provide your contact information: (Company)</td></tr>\n    <tr><td class=\"gt_row gt_left\">...4</td>\n<td class=\"gt_row gt_left\">Please provide your contact information: (Address)</td></tr>\n    <tr><td class=\"gt_row gt_left\">...5</td>\n<td class=\"gt_row gt_left\">Please provide your contact information: (Address 2)</td></tr>\n    <tr><td class=\"gt_row gt_left\">...6</td>\n<td class=\"gt_row gt_left\">Please provide your contact information: (City/Town)</td></tr>\n    <tr><td class=\"gt_row gt_left\">...7</td>\n<td class=\"gt_row gt_left\">Please provide your contact information: (State/Province)</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\n6. Then we just `ungroup` and drop the `grp` column.  \n7. Finally, we rename the columns in our `survey_data` by using our updated names in `keydat$value`, and call `clean_names()` to convert to snake_case üêç\n\n# All together now\n\nLet's run the function on `survey_data`\n\n::: {.cell}\n\n```{.r .cell-code}\nsurvey_data <- double_header(survey_data)\n```\n:::\n\n\n**Here's a comparison of our original names and our cleaned names:**\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div id=\"cvnrbupmgh\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#cvnrbupmgh .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#cvnrbupmgh .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#cvnrbupmgh .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#cvnrbupmgh .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#cvnrbupmgh .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#cvnrbupmgh .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#cvnrbupmgh .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#cvnrbupmgh .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#cvnrbupmgh .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#cvnrbupmgh .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#cvnrbupmgh .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#cvnrbupmgh .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#cvnrbupmgh .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#cvnrbupmgh .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#cvnrbupmgh .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#cvnrbupmgh .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#cvnrbupmgh .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#cvnrbupmgh .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#cvnrbupmgh .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#cvnrbupmgh .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#cvnrbupmgh .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#cvnrbupmgh .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#cvnrbupmgh .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#cvnrbupmgh .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#cvnrbupmgh .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#cvnrbupmgh .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#cvnrbupmgh .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#cvnrbupmgh .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#cvnrbupmgh .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#cvnrbupmgh .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#cvnrbupmgh .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#cvnrbupmgh .gt_left {\n  text-align: left;\n}\n\n#cvnrbupmgh .gt_center {\n  text-align: center;\n}\n\n#cvnrbupmgh .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#cvnrbupmgh .gt_font_normal {\n  font-weight: normal;\n}\n\n#cvnrbupmgh .gt_font_bold {\n  font-weight: bold;\n}\n\n#cvnrbupmgh .gt_font_italic {\n  font-style: italic;\n}\n\n#cvnrbupmgh .gt_super {\n  font-size: 65%;\n}\n\n#cvnrbupmgh .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#cvnrbupmgh .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#cvnrbupmgh .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#cvnrbupmgh .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#cvnrbupmgh .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#cvnrbupmgh .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#cvnrbupmgh .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">Old Names</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">New Names</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_left\">Respondent ID</td>\n<td class=\"gt_row gt_left\">respondent_id</td></tr>\n    <tr><td class=\"gt_row gt_left\">Please provide your contact information:</td>\n<td class=\"gt_row gt_left\">please_provide_your_contact_information_name</td></tr>\n    <tr><td class=\"gt_row gt_left\">...3</td>\n<td class=\"gt_row gt_left\">please_provide_your_contact_information_company</td></tr>\n    <tr><td class=\"gt_row gt_left\">...4</td>\n<td class=\"gt_row gt_left\">please_provide_your_contact_information_address</td></tr>\n    <tr><td class=\"gt_row gt_left\">...5</td>\n<td class=\"gt_row gt_left\">please_provide_your_contact_information_address_2</td></tr>\n    <tr><td class=\"gt_row gt_left\">...6</td>\n<td class=\"gt_row gt_left\">please_provide_your_contact_information_city_town</td></tr>\n    <tr><td class=\"gt_row gt_left\">...7</td>\n<td class=\"gt_row gt_left\">please_provide_your_contact_information_state_province</td></tr>\n    <tr><td class=\"gt_row gt_left\">...8</td>\n<td class=\"gt_row gt_left\">please_provide_your_contact_information_zip_postal_code</td></tr>\n    <tr><td class=\"gt_row gt_left\">...9</td>\n<td class=\"gt_row gt_left\">please_provide_your_contact_information_country</td></tr>\n    <tr><td class=\"gt_row gt_left\">...10</td>\n<td class=\"gt_row gt_left\">please_provide_your_contact_information_email_address</td></tr>\n    <tr><td class=\"gt_row gt_left\">...11</td>\n<td class=\"gt_row gt_left\">please_provide_your_contact_information_phone_number</td></tr>\n    <tr><td class=\"gt_row gt_left\">I wish it would have snowed more this winter.</td>\n<td class=\"gt_row gt_left\">i_wish_it_would_have_snowed_more_this_winter_response</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\n# Subsetting made easy! \n\nNow if we want to subset data based on certain questions/columns, we can do it really easily using `starts_with` and `ends_with`. \n\nSometimes it's easier to rename columns so that they're shorter and easier to work with, and sometimes it's fine to keep some really long column names if your survey contains a lot of similar questions.\n\nBelow, we'll combine all of the questions that start with `please_provide_your_contact_information` and shorten the names to only start with `contact_information` + `value`.\n\n**`starts_with` example:**\n\n::: {.cell}\n\n```{.r .cell-code}\ncontact_info <- survey_data %>%\n  select(starts_with(\"please_provide_your_contact_information\")) %>%\n  rename_at(vars(starts_with(\"please\")), ~str_remove(.,\"please_provide_your_\"))\n\ncontact_info %>% \n  head() %>% \n  gt::gt()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"rgcolcybwy\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#rgcolcybwy .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#rgcolcybwy .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#rgcolcybwy .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#rgcolcybwy .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#rgcolcybwy .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#rgcolcybwy .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#rgcolcybwy .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#rgcolcybwy .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#rgcolcybwy .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#rgcolcybwy .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#rgcolcybwy .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#rgcolcybwy .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#rgcolcybwy .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#rgcolcybwy .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#rgcolcybwy .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#rgcolcybwy .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#rgcolcybwy .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#rgcolcybwy .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#rgcolcybwy .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#rgcolcybwy .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#rgcolcybwy .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#rgcolcybwy .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#rgcolcybwy .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#rgcolcybwy .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#rgcolcybwy .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#rgcolcybwy .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#rgcolcybwy .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#rgcolcybwy .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#rgcolcybwy .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#rgcolcybwy .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#rgcolcybwy .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#rgcolcybwy .gt_left {\n  text-align: left;\n}\n\n#rgcolcybwy .gt_center {\n  text-align: center;\n}\n\n#rgcolcybwy .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#rgcolcybwy .gt_font_normal {\n  font-weight: normal;\n}\n\n#rgcolcybwy .gt_font_bold {\n  font-weight: bold;\n}\n\n#rgcolcybwy .gt_font_italic {\n  font-style: italic;\n}\n\n#rgcolcybwy .gt_super {\n  font-size: 65%;\n}\n\n#rgcolcybwy .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#rgcolcybwy .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#rgcolcybwy .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#rgcolcybwy .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#rgcolcybwy .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#rgcolcybwy .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#rgcolcybwy .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">contact_information_name</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">contact_information_company</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">contact_information_address</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">contact_information_address_2</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">contact_information_city_town</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">contact_information_state_province</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">contact_information_zip_postal_code</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">contact_information_country</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">contact_information_email_address</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">contact_information_phone_number</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_left\">Benjamin Franklin</td>\n<td class=\"gt_row gt_left\">Poor Richard's</td>\n<td class=\"gt_row gt_left\">NA</td>\n<td class=\"gt_row gt_left\">NA</td>\n<td class=\"gt_row gt_left\">Philadelphia</td>\n<td class=\"gt_row gt_left\">PA</td>\n<td class=\"gt_row gt_right\">19104</td>\n<td class=\"gt_row gt_left\">NA</td>\n<td class=\"gt_row gt_left\">benjamins@gmail.com</td>\n<td class=\"gt_row gt_right\">215-555-4444</td></tr>\n    <tr><td class=\"gt_row gt_left\">Mae Jemison</td>\n<td class=\"gt_row gt_left\">NASA</td>\n<td class=\"gt_row gt_left\">NA</td>\n<td class=\"gt_row gt_left\">NA</td>\n<td class=\"gt_row gt_left\">Decatur</td>\n<td class=\"gt_row gt_left\">Alabama</td>\n<td class=\"gt_row gt_right\">20104</td>\n<td class=\"gt_row gt_left\">NA</td>\n<td class=\"gt_row gt_left\">mjemison@nasa.gov</td>\n<td class=\"gt_row gt_right\">221-134-4646</td></tr>\n    <tr><td class=\"gt_row gt_left\">Carl Sagan</td>\n<td class=\"gt_row gt_left\">Smithsonian</td>\n<td class=\"gt_row gt_left\">NA</td>\n<td class=\"gt_row gt_left\">NA</td>\n<td class=\"gt_row gt_left\">Washington</td>\n<td class=\"gt_row gt_left\">D.C.</td>\n<td class=\"gt_row gt_right\">33321</td>\n<td class=\"gt_row gt_left\">NA</td>\n<td class=\"gt_row gt_left\">stargazer@gmail.com</td>\n<td class=\"gt_row gt_right\">999-999-4422</td></tr>\n    <tr><td class=\"gt_row gt_left\">W. E. B. Du Bois</td>\n<td class=\"gt_row gt_left\">NAACP</td>\n<td class=\"gt_row gt_left\">NA</td>\n<td class=\"gt_row gt_left\">NA</td>\n<td class=\"gt_row gt_left\">Great Barrington</td>\n<td class=\"gt_row gt_left\">MA</td>\n<td class=\"gt_row gt_right\">1230</td>\n<td class=\"gt_row gt_left\">NA</td>\n<td class=\"gt_row gt_left\">dubois@web.com</td>\n<td class=\"gt_row gt_right\">999-000-1234</td></tr>\n    <tr><td class=\"gt_row gt_left\">Florence Nightingale</td>\n<td class=\"gt_row gt_left\">Public Health Co</td>\n<td class=\"gt_row gt_left\">NA</td>\n<td class=\"gt_row gt_left\">NA</td>\n<td class=\"gt_row gt_left\">Florence</td>\n<td class=\"gt_row gt_left\">IT</td>\n<td class=\"gt_row gt_right\">33225</td>\n<td class=\"gt_row gt_left\">NA</td>\n<td class=\"gt_row gt_left\">firstnurse@aol.com</td>\n<td class=\"gt_row gt_right\">123-456-7899</td></tr>\n    <tr><td class=\"gt_row gt_left\">Galileo Galilei</td>\n<td class=\"gt_row gt_left\">NASA</td>\n<td class=\"gt_row gt_left\">NA</td>\n<td class=\"gt_row gt_left\">NA</td>\n<td class=\"gt_row gt_left\">Pisa</td>\n<td class=\"gt_row gt_left\">IT</td>\n<td class=\"gt_row gt_right\">12345</td>\n<td class=\"gt_row gt_left\">NA</td>\n<td class=\"gt_row gt_left\">galileo123@yahoo.com</td>\n<td class=\"gt_row gt_right\">111-888-9944</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\n`ends_with` is really helpful in combination with our `double_header` function and SurveyMonkey data, because open-ended or free-text responses all end with *...open_ended_response*\n\nDepending on the report or project you're building, it's sometimes useful to add all of your free-text responses as dataframes in a list, to include as an appendix, or to select important comments to include in an executive summary.\n\n**`ends_with` example:**\n\n::: {.cell}\n\n```{.r .cell-code}\nopen_ended <- survey_data %>%\n  select(ends_with(\"response\")) \n\nprint(names(open_ended))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"i_wish_it_would_have_snowed_more_this_winter_response\"\n```\n:::\n:::\n\n\nThat's it for this post! I'd love to hear from you if you found this workflow helpful, or if there is any way it could be improved. \n\nSome ideas for future posts include building this function into a package (for the sole purpose of learning how to build `R` packages), showing a few tricks I've learned with the `HH` and `lattice` packages for visualizing Likert scale responses, and some more trivial posts about Rummy, House Hunters, and any other reality TV my wife and I are currently fixated on. \n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}